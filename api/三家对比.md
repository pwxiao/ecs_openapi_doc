# 三家服务商 API 能力对比

本文档对比了阿里云 ECS、CFGPU 和 PPIO 三家服务商在构建镜像市场方面的 API 能力。

## 功能对比总览

| **需求分类** | **具体功能** | **阿里云 ECS** | **CFGPU** | **PPIO** |
| :--- | :--- | :--- | :--- | :--- |
| **GPU 主机管理** | 创建主机 | ✅ 支持<br/>`RunInstances` | ✅ 支持<br/>`/instance/create` | ✅ 支持<br/>`/gpu-instance/openapi/v1/gpu/instance/create` |
| | 列表主机 | ✅ 支持<br/>`DescribeInstances`<br/>`DescribeInstanceStatus` | ✅ 支持<br/>`GET /instance/page` (分页查询) | ✅ 支持<br/>`GET /gpu-instance/openapi/v1/gpu/instance/list` |
| | 主机详情 | ✅ 支持<br/>`DescribeInstanceAttribute` | ✅ 支持<br/>`GET /instance/status` | ✅ 支持<br/>`GET /gpu-instance/openapi/v1/gpu/instance/get` |
| | 重启主机 | ✅ 支持<br/>`RebootInstance`<br/>`RebootInstances` (批量) | ⚠️ 间接支持<br/>需组合 `/instance/shutdown` 和 `/instance/startup` | ✅ 支持<br/>`/gpu-instance/openapi/v1/gpu/instance/restart` |
| | 删除主机 | ✅ 支持<br/>`DeleteInstance`<br/>`DeleteInstances` (批量) | ✅ 支持<br/>`/instance/release` | ✅ 支持<br/>`/gpu-instance/openapi/v1/gpu/instance/delete` |
| **镜像管理** | 创建私有镜像 | ✅ 支持<br/>`CreateImage` | ❌ 不支持<br/>未提供直接创建镜像的 API | ❌ 不支持<br/>未提供直接创建镜像的 API |
| | 列表镜像 | ✅ 支持<br/>`DescribeImages`<br/>支持私有镜像和官方镜像 | ✅ 支持<br/>`GET /image/user` (用户镜像)<br/>`GET /image/system` (系统镜像) | ❌ 不支持<br/>API 文档中没有直接列出镜像的接口 |
| | 复制镜像 | ✅ 支持<br/>`CopyImage` (跨地域复制) | ❌ 不支持<br/>未提供直接复制镜像的 API | ❌ 不支持<br/>需要在镜像仓库中手动完成复制操作 |
| | 删除镜像 | ✅ 支持<br/>`DeleteImage` | ❌ 不支持<br/>未提供直接删除镜像的 API | ❌ 不支持<br/>镜像管理需要在其所在的仓库进行 |
| **共享镜像** | 共享/取消共享 | ✅ 支持<br/>`ModifyImageSharePermission`<br/>可共享给其他账号或发布为社区镜像 | ❌ 不支持<br/>未找到明确的镜像共享 API | ❌ 不支持<br/>未找到明确的镜像共享 API |
| **计费** | 按小时/按量出账 | ✅ 支持<br/>`ModifyInstanceChargeType`<br/>`DescribePrice` | ❌ 不支持<br/>平台支持按量计费，但缺乏直接的实时账单查询 API | ✅ 支持<br/>支持按量付费和包年包月，可查询账单，统计粒度精确到小时 |

## 总结

### 阿里云 ECS
- **优势**：功能最完整，所有需求都有直接的 API 支持
- **特点**：成熟的企业级服务，API 覆盖全面，支持批量操作
- **适用场景**：需要完整镜像市场功能的企业应用

### CFGPU
- **优势**：基础主机管理功能齐全
- **劣势**：镜像管理和计费功能不完善
- **特点**：专注于 GPU 计算，但缺乏完整的镜像生态
- **适用场景**：简单的 GPU 主机管理需求

### PPIO
- **优势**：主机管理和计费功能完善
- **特点**：采用"自带镜像"模式，需要外部镜像仓库配合
- **劣势**：不提供镜像管理功能，需要额外的镜像存储方案
- **适用场景**：已有镜像管理方案的场景，或与 Docker Hub 等外部仓库结合使用

## 建议

如果要构建完整的镜像市场：
1. **阿里云 ECS** 是最佳选择，提供了完整的功能支持
2. **PPIO** 可以作为计算资源提供商，但需要配合外部镜像仓库
3. **CFGPU** 适合简单的 GPU 资源管理，但不适合构建完整的镜像市场
